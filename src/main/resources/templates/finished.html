<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head
	th:replace="fragments/htmlHead:: common_header(subtitle='Finished')" />
<body>
	<div class="container-fluid">
		<div class="site-container">
			<div th:replace="fragments/navBar:: nav_bar()"></div>
			<div class="page-contents">
				<div class="row">
					<h1 class="pb-3 pt-3">Finished</h1>
					<p>
						We have finished adding the Releases to your Discogs wantlist. The
						results are displayed below, and you can head over to Discogs to
						check <a href="https://www.discogs.com/mywantlist" target="_blank">your
							Discogs wantlist</a>.
					</p>
					<div class="mx-auto">
						<table class="table table-dark table-bordered additions-table">
							<tr>
								<td class="text-right">Wantlist additions send to Discogs</td>
								<td th:text="${additionStatus.getNumReleasesProcessed()}"></td>
							</tr>
							<tr>
								<td class="text-right">Releases added successfully</td>
								<td th:text="${additionStatus.getNumReleasesAdded()}"></td>
							</tr>
							<tr>
								<td class="text-right">Failed additions</td>
								<td th:text="${additionStatus.getNumFailedReleases()}"></td>
							</tr>
						</table>
					</div>
					<div th:insert="~{}"
						th:if="${additionStatus.getNumFailedReleases() == 0}">
						<div>
							<p>You can find the releases that failed to add listed below
								-</p>
						</div>
						<div class="row">
							<table
								class="table table-dark table-striped table-bordered col-8 mx-auto">
								<tbody>
									<tr th:each="release : ${additionStatus.getFailedReleases()}">
										<td>
											<div class="d-flex align-items-center">
												<div class="release-image mr-2">
													<img class="img-thumbnail"
														th:alt="'Image for - ' + ${release.getTitle()}"
														th:src="${release.getThumbnailPath()}">
												</div>
												<div class="tag-data ml-2">
													<div class="release-title font-weight-bold"
														th:text="${release.getTitle()}"></div>
													<span class="release-format-desc"
														th:text="${release.getFormatDesc()} + ' '"></span><span
														class="release-format-type"
														th:text="${release.getFormatType()}"></span>
													<div>
														<span class="release-country"
															th:text="${release.getCountry()} + ' - '"></span> <span
															class="release-year"
															th:text="${release.getReleaseYear()}"></span>
													</div>
													<div class="release-label" th:text="${release.getLabel()}"></div>
													<span data-toggle="tooltip"
														title="How many users on Discogs have this Release in their collection. "><em>Popularity
															-</em></span> <span class="release-popularity"
														th:text="${release.getPopularity()}"></span>
												</div>
											</div>
										</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
					<div class="mt-4 mx-auto">
						<div class="row w-100">
							<p class="col-6">Click here to export your unmatched Shazam
								tags to a CSV file</p>
							<div class="col-6"
								th:insert="fragments/buttons:: export_csv_button"></div>
						</div>
						<div class="row w-100">
							<p class="col-6">
								Click here to delete your personal data from <span
									th:replace="fragments/strings:: site_name"></span>
							</p>
							<div class="col-6" th:insert="fragments/buttons:: exit_btn"></div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>