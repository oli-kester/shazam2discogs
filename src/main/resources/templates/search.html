<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/htmlHead:: common_header(subtitle='Search')" />
<body>
	<div class="container-fluid">
		<div class="site-container">
			<div th:replace="fragments/navBar:: nav_bar()"></div>
			<div class="page-contents">
				<h1>Search for Releases</h1>
				<div class="row"
					th:insert="fragments/tagsParseResultsTable:: parse_results(numTags=${numTags})">
				</div>
				<hr />
				<p>Click the button below to search Discogs for releases
					matching your Shazams.</p>
				<p>Note that due to restrictions from Discogs, this system can
					only send around 60 search requests per minute across all user
					sessions. This means that many people using this service will make
					it slow. Be patient and wait for the matching to complete.</p>
				<form id="searchForm">
					<div class="mx-auto text-center">
						<label for="media-type">Choose your preferred media type -
						</label> <select id="media-type" name="media-type">
							<option value="PHYSICAL_VINYL">Physical (Vinyl)</option>
							<option value="PHYSICAL_CD">Physical (CD)</option>
							<option value="DIGITAL_HI_RES">Digital (Hi-Res)</option>
							<option value="DIGITAL_MP3">Digital (MP3)</option>
						</select>
					</div>
					<p class="alert alert-warning mx-auto">
						If your preferred format is not matched for a release in the
						Discogs database, <span th:replace="fragments/strings:: site_name"></span>
						will automatically select the most popular match for all formats.
					</p>
					<p class="alert alert-info mx-auto">
						<strong>Note - </strong>Selecting "Vinyl" for your preferred
						format often gives more precise matches.
					</p>
					<div class="mx-auto text-center">
						<input type="submit" class="btn btn-secondary btn-lg"
							id="searchBtn" value=">> Search <<" />
					</div>
				</form>
				<hr />
				<div class="mt-3">
					<h5 class="mb-4">Progress of Discogs search</h5>
					<div class="progress">
						<div id="searchProgress"
							class="progress-bar progress-bar-striped progress-bar-animated"
							role="progressbar" aria-valuenow="0" aria-valuemin="0"
							aria-valuemax="100" style="width: 0%"></div>
					</div>
				</div>
				<div class="d-flex justify-content-between mt-4 search-buttons">
					<div>
						<button id="cancelBtn" class="btn btn-danger btn-lg" hidden="true">Cancel</button>
					</div>
					<a href="searchResults"><button id="resultsBtn"
							class="btn btn-danger btn-lg" hidden="true">Go To
							Results</button></a>
				</div>
			</div>
		</div>
	</div>
	<script th:src="@{windowUnloadCanceller.js}"></script>
	<script th:src="@{discogsSearchHandler.js}"></script>
	<script type="text/javascript">
		
	</script>
</body>
</html>